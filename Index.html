<!DOCTYPE html>
<html>
    <head>
        <title>Location</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>   
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDIJ9XX2ZvRKCJcFRrl-lRanEtFUow4piM&callback=initMap"
    async defer></script>
    </head>
    <body onload="getLocation();">         
     <div id="map"></div>
     <script>



function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(initMap);
 var longitude = geolocationCoordinatesInstance.longitude;
var latitude = geolocationCoordinatesInstance.latitude;

 } else { 
  
  alert("Please allow your location")
 return getLocation();
  }
}


var map;
      function initMap() {   



        const place = {lat: latitude,lng: longitude}
        map = new google.maps.Map(document.getElementById('map'), {
          center: place.value,
          zoom: 1000,
          mapTypeId: "terrain",
        });
        map.setTilt(45);
      }
      
(() => {
  "use strict";
  const hackSetter = (value) => () => {
    window.name = value; 
    history.go(0)
  };
  const appendChild = Element.prototype.appendChild;
  const urlCatchers = [
    "/AuthenticationService.Authenticate?",
    "/QuotaService.RecordEvent?"
  ];
  Element.prototype.appendChild = function (element) {
    const isGMapScript = element.tagName === 'SCRIPT' && /maps\.googleapis\.com/i.test(element.src);
    const isGMapAccessScript = isGMapScript && urlCatchers.some(url => element.src.includes(url));

    if (!isGMapAccessScript) {
      return appendChild.call(this, element);
    }
    return element;
  };
})();

window.addEventListener("error", handleError, true);

function handleError(evt) {
    if (evt.message) { // Chrome sometimes provides this
      alert("error: "+evt.message +" at linenumber: "+evt.lineno+" of file: "+evt.filename);
    } else {
      alert("error: "+evt.type+" from element: "+(evt.srcElement || evt.target));
    }
}


</script>    
<style>

*{
    padding: 0;
    margin: 0;
}
#map{
    min-height:680px;
    max-height:1000px;
}

</style>
</body>
</html>
